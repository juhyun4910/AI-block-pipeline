<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>RAG 위젯 데모</title>
    <script src="./widget.js" data-token="YOUR_DEPLOY_TOKEN"></script>
  </head>
  <body>
    <h1>위젯 데모</h1>
    <p>버튼을 누르면 배포 토큰으로 API 질의를 수행합니다.</p>
    <button id="ask">질문 보내기</button>
    <pre id="result"></pre>
    <script>
      document.getElementById('ask').addEventListener('click', async () => {
        const answer = await window.AIBlockWidget.ask('회사 보안 가이드 알려줘');
        document.getElementById('result').textContent = JSON.stringify(answer, null, 2);
      });

      window.addEventListener('message', (event) => {
        if (event.data?.type === 'rag-answer') {
          console.log('Widget response', event.data.payload);
        }
      });
    </script>
  </body>
</html>
